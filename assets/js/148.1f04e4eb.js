(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{346:function(s,e,n){"use strict";n.r(e);var t=n(0),a=Object(t.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"背景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[s._v("#")]),s._v(" 背景")]),s._v(" "),n("p",[s._v("使用RobotFramework进行测试的时候，经常会需要写一些准备数据的脚本，比如我现在的的脚本框架下，把所有的变量和项目配置都放在服务器上，那么我在执行用例的时候，就必须要去读取这些配置，但是在每个用例都要写一遍这个读取配置的代码，显得很繁琐，偶然的尝试，发现了这个小技巧。")]),s._v(" "),n("h2",{attrs:{id:"往常的做法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#往常的做法"}},[s._v("#")]),s._v(" 往常的做法")]),s._v(" "),n("p",[s._v("正常来说，我们如果要拿到这些配置，必须要执行获取配置的关键字，然后拿到这个关键字的返回值，然后才能执行后续的步骤，比如如下代码：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("*** Keywords ***\nget config\n    log     开始获取配置\n    [Return]    config\n\n*** Test Cases ***\ntest\n    ${rst}      get config\n    log     ${rst}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("但是这样做会非常麻烦，每个用例在跑的时候，都必须要调用这个关键字，"),n("code",[s._v("RobotFramework")]),s._v("提供了"),n("code",[s._v("setUp")]),s._v("的方法，但是这个方法是在每个用例开始的时候执行，用来清理环境的，比如用例执行的前置准备，我们的问题是要拿到系统配置的值。在"),n("code",[s._v("setUp")]),s._v("执行的时候，下方的用例，没有地方可以拿到值。")]),s._v(" "),n("h2",{attrs:{id:"小技巧"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小技巧"}},[s._v("#")]),s._v(" 小技巧")]),s._v(" "),n("p",[s._v("其实"),n("code",[s._v("setUp")]),s._v("也是可以拿到值，只是需要做一个简单的动作。如下面的代码：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("*** Settings ***\nTest Setup      get config\n\n*** Keywords ***\nget config\n    log     开始获取配置\n    set suite variable     ${config}       config\n\n*** Test Cases ***\ntest\n    log     ${config}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("在case中，我们直接打印了"),n("code",[s._v("${config}")]),s._v("这个变量，这个变量哪里来的呢？就是在关键字"),n("code",[s._v("get config")]),s._v("中的"),n("code",[s._v("set suite variable")]),s._v("方法设置了"),n("code",[s._v("${config}")]),s._v("变量，然后在"),n("code",[s._v("setUp")]),s._v("中执行了"),n("code",[s._v("get config")]),s._v("关键字，这个变量就变成了"),n("code",[s._v("suite")]),s._v("级别的变量，其他case在执行的过程中就能够直接拿来用了。")])])}),[],!1,null,null,null);e.default=a.exports}}]);